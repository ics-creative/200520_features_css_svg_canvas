<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./common_style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.2.2/pixi.min.js"></script>
  <title>変形とアニメーション : SVG</title>
  <style>

  </style>
</head>
<body>
  <h1>サンプル：変形のアニメーション(SVG)</h1>
  <a href="./">サンプル一覧に戻る</a> | <a href="./">記事に戻る</a>

  <div class="stage">
    <svg viewbox="-300 0 600 400" width="600" height="400">
      <defs>
        <!-- 終端のマーカー（猫） -->
        <marker id="boxcat" markerUnits="strokeWidth" markerWidth="30" markerHeight="30" viewBox="0 0 100 100" refX="10" refY="45"  orient="auto">
          <image href="./imgs/boxcat_marker.svg" width="100" height="100" />
        </marker>
        <!-- 始端のマーカー（葉っぱ） -->
        <marker id="leafs" markerUnits="strokeWidth" markerWidth="40" markerHeight="40" viewBox="0 0 100 200" refX="0" refY="100"  orient="auto">
          <image href="./imgs/leafset_marker.svg" width="100" height="200" />
        </marker>
      </defs>
      <g transform="translate(0 -30)">
        <!-- パス本体：始端・終端にマーカーを指定 -->
        <path d="M0,400 C60,350 0,250 -30,200" stroke="#534741" stroke-width="3" fill="none" marker-end="url(#boxcat)" marker-start="url(#leafs)">
          <!-- パスのアニメーション -->
          <animate
            attributeName="d"
            begin="0s"
            values="
              M0,400 C60,350 0,250 -30,200;
              M0,400 C-30,350 30,300 0,250;
              M0,400 C0,350 0,250 30,200;
              M0,400 C30,350 -30,200 0,150;
              M0,400 C60,350 0,250 -30,200"
            repeatCount="indefinite"
            dur="1.5s"
            calcMode="spline"
            fill="freeze"
            keyTimes="0;0.25;0.5;0.75;1"
            keySplines="
              0.0 0.5 0.5 1.0;
              0.5 0.0 1.0 0.5;
              0.0 0.5 0.5 1.0;
              0.5 0.0 1.0 0.5"
          />
        </path>
      </g>
    </svg>
  </div>
</body>
</html>